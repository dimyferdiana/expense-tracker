{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import Badge from'./Badge';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TagSelector(_ref){let{selectedTags=[],availableTags=[],onChange}=_ref;const[isOpen,setIsOpen]=useState(false);const[searchTerm,setSearchTerm]=useState('');const containerRef=useRef(null);// Close dropdown when clicking outside\nuseEffect(()=>{function handleClickOutside(event){if(containerRef.current&&!containerRef.current.contains(event.target)){setIsOpen(false);}}document.addEventListener(\"mousedown\",handleClickOutside);return()=>{document.removeEventListener(\"mousedown\",handleClickOutside);};},[]);// Filter tags based on search term\nconst filteredTags=availableTags.filter(tag=>tag.name.toLowerCase().includes(searchTerm.toLowerCase())).filter(tag=>!selectedTags.includes(tag.id));// Handle tag selection\nconst handleTagSelect=tagId=>{const newSelectedTags=[...selectedTags,tagId];onChange(newSelectedTags);setSearchTerm('');};// Handle tag removal\nconst handleTagRemove=tagId=>{const newSelectedTags=selectedTags.filter(id=>id!==tagId);onChange(newSelectedTags);};// Get tag object by id\nconst getTagById=tagId=>{return availableTags.find(tag=>tag.id===tagId);};// Color assignments for tags - distribute evenly across available colors\nconst tagColors=['blue','green','yellow','indigo','purple','pink','lime','rose','teal','cyan','orange'];const getTagColor=index=>{return tagColors[index%tagColors.length];};return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",ref:containerRef,children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-2 flex flex-wrap gap-2\",children:selectedTags.map((tagId,index)=>{const tag=getTagById(tagId);return tag?/*#__PURE__*/_jsx(Badge,{color:getTagColor(index),removable:true,onRemove:()=>handleTagRemove(tagId),children:tag.name},tagId):null;})}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-gray-300 flex items-center justify-between hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-500\",onClick:()=>setIsOpen(!isOpen),children:[/*#__PURE__*/_jsx(\"span\",{children:selectedTags.length?\"\".concat(selectedTags.length,\" tags selected\"):'Add tags'}),/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-gray-400\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\",clipRule:\"evenodd\"})})]}),isOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute z-10 mt-1 w-full rounded-md bg-gray-800 shadow-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-indigo-500\",placeholder:\"Search tags...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})}),/*#__PURE__*/_jsx(\"ul\",{className:\"max-h-60 overflow-auto py-1\",children:filteredTags.length===0?/*#__PURE__*/_jsx(\"li\",{className:\"px-3 py-2 text-gray-400 text-sm\",children:\"No tags found\"}):filteredTags.map((tag,index)=>/*#__PURE__*/_jsx(\"li\",{className:\"px-3 py-2 hover:bg-gray-700 cursor-pointer text-gray-300 text-sm\",onClick:()=>handleTagSelect(tag.id),children:/*#__PURE__*/_jsx(Badge,{color:getTagColor(index),children:tag.name})},tag.id))})]})]})]});}export default TagSelector;","map":{"version":3,"names":["React","useState","useRef","useEffect","Badge","jsx","_jsx","jsxs","_jsxs","TagSelector","_ref","selectedTags","availableTags","onChange","isOpen","setIsOpen","searchTerm","setSearchTerm","containerRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","filteredTags","filter","tag","name","toLowerCase","includes","id","handleTagSelect","tagId","newSelectedTags","handleTagRemove","getTagById","find","tagColors","getTagColor","index","length","className","ref","children","map","color","removable","onRemove","type","onClick","concat","xmlns","viewBox","fill","fillRule","d","clipRule","placeholder","value","e"],"sources":["/Users/ddm/expense-tracker/src/components/TagSelector.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport Badge from './Badge';\n\nfunction TagSelector({ selectedTags = [], availableTags = [], onChange }) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const containerRef = useRef(null);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    function handleClickOutside(event) {\n      if (containerRef.current && !containerRef.current.contains(event.target)) {\n        setIsOpen(false);\n      }\n    }\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, []);\n\n  // Filter tags based on search term\n  const filteredTags = availableTags\n    .filter(tag => tag.name.toLowerCase().includes(searchTerm.toLowerCase()))\n    .filter(tag => !selectedTags.includes(tag.id));\n\n  // Handle tag selection\n  const handleTagSelect = (tagId) => {\n    const newSelectedTags = [...selectedTags, tagId];\n    onChange(newSelectedTags);\n    setSearchTerm('');\n  };\n\n  // Handle tag removal\n  const handleTagRemove = (tagId) => {\n    const newSelectedTags = selectedTags.filter(id => id !== tagId);\n    onChange(newSelectedTags);\n  };\n\n  // Get tag object by id\n  const getTagById = (tagId) => {\n    return availableTags.find(tag => tag.id === tagId);\n  };\n\n  // Color assignments for tags - distribute evenly across available colors\n  const tagColors = [\n    'blue', 'green', 'yellow', 'indigo', 'purple', \n    'pink', 'lime', 'rose', 'teal', 'cyan', 'orange'\n  ];\n\n  const getTagColor = (index) => {\n    return tagColors[index % tagColors.length];\n  };\n\n  return (\n    <div className=\"relative\" ref={containerRef}>\n      {/* Selected Tags Display */}\n      <div className=\"mb-2 flex flex-wrap gap-2\">\n        {selectedTags.map((tagId, index) => {\n          const tag = getTagById(tagId);\n          return tag ? (\n            <Badge \n              key={tagId} \n              color={getTagColor(index)} \n              removable={true}\n              onRemove={() => handleTagRemove(tagId)}\n            >\n              {tag.name}\n            </Badge>\n          ) : null;\n        })}\n      </div>\n\n      {/* Tag Selector Button */}\n      <div className=\"relative\">\n        <button\n          type=\"button\"\n          className=\"w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-gray-300 flex items-center justify-between hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n          onClick={() => setIsOpen(!isOpen)}\n        >\n          <span>{selectedTags.length ? `${selectedTags.length} tags selected` : 'Add tags'}</span>\n          <svg className=\"h-5 w-5 text-gray-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n            <path fillRule=\"evenodd\" d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\n          </svg>\n        </button>\n\n        {/* Dropdown */}\n        {isOpen && (\n          <div className=\"absolute z-10 mt-1 w-full rounded-md bg-gray-800 shadow-lg\">\n            <div className=\"p-2\">\n              <input\n                type=\"text\"\n                className=\"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n                placeholder=\"Search tags...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n              />\n            </div>\n            \n            <ul className=\"max-h-60 overflow-auto py-1\">\n              {filteredTags.length === 0 ? (\n                <li className=\"px-3 py-2 text-gray-400 text-sm\">No tags found</li>\n              ) : (\n                filteredTags.map((tag, index) => (\n                  <li \n                    key={tag.id}\n                    className=\"px-3 py-2 hover:bg-gray-700 cursor-pointer text-gray-300 text-sm\"\n                    onClick={() => handleTagSelect(tag.id)}\n                  >\n                    <Badge color={getTagColor(index)}>\n                      {tag.name}\n                    </Badge>\n                  </li>\n                ))\n              )}\n            </ul>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default TagSelector; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}